# 寄存器(CPU工作原理)

* 8086CPU有14个寄存器: AX,BX,CX,DX,SI,DI,SP,BP,IP,CS,SS,DS,ES,PSW
* 通用寄存器:AX,BX,CX,DX

## 字在寄存器中的存储

* 字节: byte,一个字节由8个比特组成,可以存在8位寄存器中.
* 字: 记为word,一个字由两个字节组成,这两个字节分别称为这个字的高位字节和低位字节

## 几条汇编指令

|汇编指令|高级语言描述|
|---|---|
|mov ax,18|AX=18|
|mov ah,78|AH=78|
|add ax,8|AX=AX+8|
|mov ax,bx|AX=BX|
|add ax,bx|AX=AX+BX|

### 16位寄存器进位

|指令|AX|BX|
|---|--|--|
|mov ax,4E20H|4E20H|0000H|
|add ax,1406H|6226H|0000H|
|mov bx,2000H|6226H|2000H|
|add ax,bx|8226H|2000H|
|mov bx,ax|8226H|8226H|
|add ax,bx|???|8226H|

答案:044CH

### 8位寄存器进位

|指令|AX|BX|
|------------|------|-------|
|mov ax,001AH|001AH|0000H|
|mov bx,0026H|001AH|0026H|
|add al,bl|0040H|0026H|
|add ah,bl|2640H|0026H|
|add bh,al|2640H|4026H|
|mov ah,0|0040H|4026H|
|add al,85H|00C5H|4026H|
|add al,93H|????|4026H|

答案:0058H

>>>进行的是8位运算,此时AL和AH是两个独立的寄存器;进位不会存储到AH中

## 16位结构的CPU

16位结构CPU具有一些结构特性:

* 运算器一次最多可以处理16位的数据
* 寄存器的最大宽度为16位
* 寄存器和运算器之间的通路为16位

## 8086CPU给出物理地址的方法

![8086CPU如何用16位寄存器处理20位地址总线]

* CPU中的相关不见提供两个16位的地址,一个称为段地址,另一个称为偏移地址;
* 段地址和偏移地址通过内部总线将20位物理地址送入输入输出控制电路;
* 地址加法器将两个16位地址合称为一个20位的物理地址;
* 地址加法器通过内部总线将20位物理地址送上地址总线;
* 输入输出控制电路将20位物理地址送上地址总线;
* 20位物理地址被地址总线传送到存储器.

[8086CPU如何用16位寄存器处理20位地址总线]:source/16bit_2_20bit.png